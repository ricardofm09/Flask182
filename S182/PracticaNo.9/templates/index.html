{%extends 'plantilla.html'%}

{%block body%}

    <h1 class="display-1 text-center mt-5 mb-5 text-info">Gestion de Albums</h1> 
    <div class="container"> 

          {%with mensajes= get_flashed_messages() %}
          {% if mensajes%}
            {%for msj in mensajes%}
        
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                  <strong> {{ msj }} </strong> 
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>

                <script> Swal.fire('Buen trabajo!','Finalizamos con exito el CRUD Flask!', 'success') </script>
        
            {%endfor%}
          {% endif %}
        {%endwith%}

    <div class="row">
      <div class="col-md-5"> 
        <div class="card card-body">
      <form action="/guardar" method="POST">

        <div class="mb-3">
          <input type="text" class="form-control" name="txtTitulo" placeholder="Escribe titulo">
        </div>

        <div class="mb-3">
          <input type="text" class="form-control" name="txtArtista" placeholder="Escribe Artista">
        </div>

        <div class="mb-3">
          <input type="number" class="form-control" name="txtAnio" placeholder="Escribe Año">
        </div>

        <div class="d-grid gap-2">
          <button type="submit" class="btn btn-outline-danger" Danger> Guardar </button>
        </div>

        </form>
      </div> <!--cierra card-->
      </div> <!--le prtenece a la columna 5-->

      <div class="col-md-7">
        <h2>Albums Guardados</h2>

<table class="table table-dark table-striped">
  <thead>
    <tr>
      <td class="table-info">Id:</td>
      <td class="table-info">Nombre:</td>
      <td class="table-info">Artista</td>
      <td class="table-info">Año de publicacion</td>
    </tr>
  </thead>

  <tbody>
    {%for alb in listAlbums %}
    <tr>
    <td>{{ alb.0 }}</td>
    <td>{{ alb.1 }}</td>
    <td>{{ alb.2 }}</td>
    <td>{{ alb.3 }}</td>
    <td>
      <a href="/editar/{{ alb.0 }}" class="btn btn-secondary"> <i class="bi bi-pencil-fill"></i></a>
      <a href="/eliminar/{{ alb.0 }}" class="btn btn-primary"> <i class="bi bi-trash3"></i> </a>

    </td>
    </tr>

    {%endfor%}
  </tbody>
</table>
 </div> <!--le pertenece a la columna 7-->
    </div> <!--row -->
  </div> <!--eres del container-->

  {%endblock%}
